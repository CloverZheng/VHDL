library ieee; 
use ieee.std_logic_1164.all; 
use ieee.std_logic_arith.all; 
use ieee.std_logic_unsigned.all; 
entity fenpin is 
port(clk:in std_logic; 

tone:in integer range 0 to 100000; 
buzz:out std_logic); 

end; 
architecture behave of fenpin is 
signal  clk_data: std_logic; 
signal 

i: integer range 0 to 65540; 

--50MHz 时钟
--输入分频系数
--驱动扬声器发声

begin 
yinpin:  process(clk) 

begin 

--根据输入的分频系数分频

if clk'event and clk = '1' then 

if i = 

tone then 

i <= 0; 
clk_data <= not clk_data; 

else 

i <= i+1; 

end if; 

end if; 

end process yinpin;--f=1/(2*(tone+1))*f0 

buzz <= clk_data; 
end; 